!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.localforage=e()}}(function(){return function e(r,t,n){function o(a,u){if(!t[a]){if(!r[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var s=t[a]={exports:{}};r[a][0].call(s.exports,function(e){var t=r[a][1][e];return o(t?t:e)},s,s.exports,e,r,t,n)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,r,t){(function(e){"use strict";function t(){s=!0;for(var e,r,t=l.length;t;){for(r=l,l=[],e=-1;++e<t;)r[e]();t=l.length}s=!1}function n(e){1!==l.push(e)||s||o()}var o,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var a=0,u=new i(t),c=e.document.createTextNode("");u.observe(c,{characterData:!0}),o=function(){c.data=a=++a%2}}else if(e.setImmediate||"undefined"==typeof e.MessageChannel)o="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var r=e.document.createElement("script");r.onreadystatechange=function(){t(),r.onreadystatechange=null,r.parentNode.removeChild(r),r=null},e.document.documentElement.appendChild(r)}:function(){setTimeout(t,0)};else{var f=new e.MessageChannel;f.port1.onmessage=t,o=function(){f.port2.postMessage(0)}}var s,l=[];r.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,r,t){"use strict";function n(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,e!==n&&c(this,e)}function i(e,r,t){this.promise=e,"function"==typeof r&&(this.onFulfilled=r,this.callFulfilled=this.otherCallFulfilled),"function"==typeof t&&(this.onRejected=t,this.callRejected=this.otherCallRejected)}function a(e,r,t){h(function(){var n;try{n=r(t)}catch(o){return y.reject(e,o)}n===e?y.reject(e,new TypeError("Cannot resolve promise with itself")):y.resolve(e,n)})}function u(e){var r=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof r)return function(){r.apply(e,arguments)}}function c(e,r){function t(r){i||(i=!0,y.reject(e,r))}function n(r){i||(i=!0,y.resolve(e,r))}function o(){r(n,t)}var i=!1,a=f(o);"error"===a.status&&t(a.value)}function f(e,r){var t={};try{t.value=e(r),t.status="success"}catch(n){t.status="error",t.value=n}return t}function s(e){return e instanceof this?e:y.resolve(new this(n),e)}function l(e){var r=new this(n);return y.reject(r,e)}function d(e){function r(e,r){function n(e){a[r]=e,++u!==o||i||(i=!0,y.resolve(f,a))}t.resolve(e).then(n,function(e){i||(i=!0,y.reject(f,e))})}var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,i=!1;if(!o)return this.resolve([]);for(var a=new Array(o),u=0,c=-1,f=new this(n);++c<o;)r(e[c],c);return f}function v(e){function r(e){t.resolve(e).then(function(e){i||(i=!0,y.resolve(u,e))},function(e){i||(i=!0,y.reject(u,e))})}var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,i=!1;if(!o)return this.resolve([]);for(var a=-1,u=new this(n);++a<o;)r(e[a]);return u}var h=e(1),y={},p=["REJECTED"],b=["FULFILLED"],g=["PENDING"];r.exports=t=o,o.prototype["catch"]=function(e){return this.then(null,e)},o.prototype.then=function(e,r){if("function"!=typeof e&&this.state===b||"function"!=typeof r&&this.state===p)return this;var t=new this.constructor(n);if(this.state!==g){var o=this.state===b?e:r;a(t,o,this.outcome)}else this.queue.push(new i(t,e,r));return t},i.prototype.callFulfilled=function(e){y.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){y.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},y.resolve=function(e,r){var t=f(u,r);if("error"===t.status)return y.reject(e,t.value);var n=t.value;if(n)c(e,n);else{e.state=b,e.outcome=r;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(r)}return e},y.reject=function(e,r){e.state=p,e.outcome=r;for(var t=-1,n=e.queue.length;++t<n;)e.queue[t].callRejected(r);return e},t.resolve=s,t.reject=l,t.all=d,t.race=v},{1:1}],3:[function(e,r,t){(function(r){"use strict";"function"!=typeof r.Promise&&(r.Promise=e(2))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,r,t){"use strict";function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function o(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){}}function i(){try{return!!ie&&(!("undefined"!=typeof openDatabase&&"undefined"!=typeof navigator&&navigator.userAgent&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent))&&(ie&&"function"==typeof ie.open&&"undefined"!=typeof IDBKeyRange))}catch(e){return!1}}function a(){return"function"==typeof openDatabase}function u(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&localStorage.setItem}catch(e){return!1}}function c(e,r){e=e||[],r=r||{};try{return new Blob(e,r)}catch(t){if("TypeError"!==t.name)throw t;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,o=new n,i=0;i<e.length;i+=1)o.append(e[i]);return o.getBlob(r.type)}}function f(e,r){r&&e.then(function(e){r(null,e)},function(e){r(e)})}function s(e,r,t){"function"==typeof r&&e.then(r),"function"==typeof t&&e["catch"](t)}function l(e){for(var r=e.length,t=new ArrayBuffer(r),n=new Uint8Array(t),o=0;o<r;o++)n[o]=e.charCodeAt(o);return t}function d(e){return new ce(function(r){var t=c([""]);e.objectStore(fe).put(t,"key"),e.onabort=function(e){e.preventDefault(),e.stopPropagation(),r(!1)},e.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),t=navigator.userAgent.match(/Edge\//);r(t||!e||parseInt(e[1],10)>=43)}})["catch"](function(){return!1})}function v(e){return"boolean"==typeof ae?ce.resolve(ae):d(e).then(function(e){return ae=e})}function h(e){var r=ue[e.name],t={};t.promise=new ce(function(e){t.resolve=e}),r.deferredOperations.push(t),r.dbReady?r.dbReady=r.dbReady.then(function(){return t.promise}):r.dbReady=t.promise}function y(e){var r=ue[e.name],t=r.deferredOperations.pop();t&&t.resolve()}function p(e,r){return new ce(function(t,n){if(e.db){if(!r)return t(e.db);h(e),e.db.close()}var o=[e.name];r&&o.push(e.version);var i=ie.open.apply(ie,o);r&&(i.onupgradeneeded=function(r){var t=i.result;try{t.createObjectStore(e.storeName),r.oldVersion<=1&&t.createObjectStore(fe)}catch(n){if("ConstraintError"!==n.name)throw n}}),i.onerror=function(){n(i.error)},i.onsuccess=function(){t(i.result),y(e)}})}function b(e){return p(e,!1)}function g(e){return p(e,!0)}function m(e,r){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),n=e.version<e.db.version,o=e.version>e.db.version;if(n&&(e.version!==r,e.version=e.db.version),o||t){if(t){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function _(e){return new ce(function(r,t){var n=new FileReader;n.onerror=t,n.onloadend=function(t){var n=btoa(t.target.result||"");r({__local_forage_encoded_blob:!0,data:n,type:e.type})},n.readAsBinaryString(e)})}function S(e){var r=l(atob(e.data));return c([r],{type:e.type})}function w(e){return e&&e.__local_forage_encoded_blob}function E(e){var r=this,t=r._initReady().then(function(){var e=ue[r._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return s(t,e,e),t}function I(e){function r(){return ce.resolve()}var t=this,n={db:null};if(e)for(var o in e)n[o]=e[o];ue||(ue={});var i=ue[n.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},ue[n.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=E);for(var a=[],u=0;u<i.forages.length;u++){var c=i.forages[u];c!==t&&a.push(c._initReady()["catch"](r))}var f=i.forages.slice(0);return ce.all(a).then(function(){return n.db=i.db,b(n)}).then(function(e){return n.db=e,m(n,t._defaultConfig.version)?g(n):e}).then(function(e){n.db=i.db=e,t._dbInfo=n;for(var r=0;r<f.length;r++){var o=f[r];o!==t&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}})}function A(e,r){var t=this;"string"!=typeof e&&(e=String(e));var n=new ce(function(r,n){t.ready().then(function(){var o=t._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),a=i.get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),w(e)&&(e=S(e)),r(e)},a.onerror=function(){n(a.error)}})["catch"](n)});return f(n,r),n}function j(e,r){var t=this,n=new ce(function(r,n){t.ready().then(function(){var o=t._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),a=i.openCursor(),u=1;a.onsuccess=function(){var t=a.result;if(t){var n=t.value;w(n)&&(n=S(n));var o=e(n,t.key,u++);void 0!==o?r(o):t["continue"]()}else r()},a.onerror=function(){n(a.error)}})["catch"](n)});return f(n,r),n}function D(e,r,t){var n=this;"string"!=typeof e&&(e=String(e));var o=new ce(function(t,o){var i;n.ready().then(function(){return i=n._dbInfo,"[object Blob]"===se.call(r)?v(i.db).then(function(e){return e?r:_(r)}):r}).then(function(r){var n=i.db.transaction(i.storeName,"readwrite"),a=n.objectStore(i.storeName);null===r&&(r=void 0),n.oncomplete=function(){void 0===r&&(r=null),t(r)},n.onabort=n.onerror=function(){var e=u.error?u.error:u.transaction.error;o(e)};var u=a.put(r,e)})["catch"](o)});return f(o,t),o}function N(e,r){var t=this;"string"!=typeof e&&(e=String(e));var n=new ce(function(r,n){t.ready().then(function(){var o=t._dbInfo,i=o.db.transaction(o.storeName,"readwrite"),a=i.objectStore(o.storeName),u=a["delete"](e);i.oncomplete=function(){r()},i.onerror=function(){n(u.error)},i.onabort=function(){var e=u.error?u.error:u.transaction.error;n(e)}})["catch"](n)});return f(n,r),n}function O(e){var r=this,t=new ce(function(e,t){r.ready().then(function(){var n=r._dbInfo,o=n.db.transaction(n.storeName,"readwrite"),i=o.objectStore(n.storeName),a=i.clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=a.error?a.error:a.transaction.error;t(e)}})["catch"](t)});return f(t,e),t}function R(e){var r=this,t=new ce(function(e,t){r.ready().then(function(){var n=r._dbInfo,o=n.db.transaction(n.storeName,"readonly").objectStore(n.storeName),i=o.count();i.onsuccess=function(){e(i.result)},i.onerror=function(){t(i.error)}})["catch"](t)});return f(t,e),t}function B(e,r){var t=this,n=new ce(function(r,n){return e<0?void r(null):void t.ready().then(function(){var o=t._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),a=!1,u=i.openCursor();u.onsuccess=function(){var t=u.result;return t?void(0===e?r(t.key):a?r(t.key):(a=!0,t.advance(e))):void r(null)},u.onerror=function(){n(u.error)}})["catch"](n)});return f(n,r),n}function x(e){var r=this,t=new ce(function(e,t){r.ready().then(function(){var n=r._dbInfo,o=n.db.transaction(n.storeName,"readonly").objectStore(n.storeName),i=o.openCursor(),a=[];i.onsuccess=function(){var r=i.result;return r?(a.push(r.key),void r["continue"]()):void e(a)},i.onerror=function(){t(i.error)}})["catch"](t)});return f(t,e),t}function k(e){var r,t,n,o,i,a=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var f=new ArrayBuffer(a),s=new Uint8Array(f);for(r=0;r<u;r+=4)t=de.indexOf(e[r]),n=de.indexOf(e[r+1]),o=de.indexOf(e[r+2]),i=de.indexOf(e[r+3]),s[c++]=t<<2|n>>4,s[c++]=(15&n)<<4|o>>2,s[c++]=(3&o)<<6|63&i;return f}function C(e){var r,t=new Uint8Array(e),n="";for(r=0;r<t.length;r+=3)n+=de[t[r]>>2],n+=de[(3&t[r])<<4|t[r+1]>>4],n+=de[(15&t[r+1])<<2|t[r+2]>>6],n+=de[63&t[r+2]];return t.length%3===2?n=n.substring(0,n.length-1)+"=":t.length%3===1&&(n=n.substring(0,n.length-2)+"=="),n}function L(e,r){var t="";if(e&&(t=Oe.call(e)),e&&("[object ArrayBuffer]"===t||e.buffer&&"[object ArrayBuffer]"===Oe.call(e.buffer))){var n,o=ye;e instanceof ArrayBuffer?(n=e,o+=be):(n=e.buffer,"[object Int8Array]"===t?o+=me:"[object Uint8Array]"===t?o+=_e:"[object Uint8ClampedArray]"===t?o+=Se:"[object Int16Array]"===t?o+=we:"[object Uint16Array]"===t?o+=Ie:"[object Int32Array]"===t?o+=Ee:"[object Uint32Array]"===t?o+=Ae:"[object Float32Array]"===t?o+=je:"[object Float64Array]"===t?o+=De:r(new Error("Failed to get type for BinaryArray"))),r(o+C(n))}else if("[object Blob]"===t){var i=new FileReader;i.onload=function(){var t=ve+e.type+"~"+C(this.result);r(ye+ge+t)},i.readAsArrayBuffer(e)}else try{r(JSON.stringify(e))}catch(a){r(null,a)}}function T(e){if(e.substring(0,pe)!==ye)return JSON.parse(e);var r,t=e.substring(Ne),n=e.substring(pe,Ne);if(n===ge&&he.test(t)){var o=t.match(he);r=o[1],t=t.substring(o[0].length)}var i=k(t);switch(n){case be:return i;case ge:return c([i],{type:r});case me:return new Int8Array(i);case _e:return new Uint8Array(i);case Se:return new Uint8ClampedArray(i);case we:return new Int16Array(i);case Ie:return new Uint16Array(i);case Ee:return new Int32Array(i);case Ae:return new Uint32Array(i);case je:return new Float32Array(i);case De:return new Float64Array(i);default:throw new Error("Unkown type: "+n)}}function F(e){var r=this,t={db:null};if(e)for(var n in e)t[n]="string"!=typeof e[n]?e[n].toString():e[n];var o=new ce(function(e,n){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(o){return n(o)}t.db.transaction(function(o){o.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){r._dbInfo=t,e()},function(e,r){n(r)})})});return t.serializer=Re,o}function z(e,r){var t=this;"string"!=typeof e&&(e=String(e));var n=new ce(function(r,n){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){t.executeSql("SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],function(e,t){var n=t.rows.length?t.rows.item(0).value:null;n&&(n=o.serializer.deserialize(n)),r(n)},function(e,r){n(r)})})})["catch"](n)});return f(n,r),n}function M(e,r){var t=this,n=new ce(function(r,n){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){t.executeSql("SELECT * FROM "+o.storeName,[],function(t,n){for(var i=n.rows,a=i.length,u=0;u<a;u++){var c=i.item(u),f=c.value;if(f&&(f=o.serializer.deserialize(f)),f=e(f,c.key,u+1),void 0!==f)return void r(f)}r()},function(e,r){n(r)})})})["catch"](n)});return f(n,r),n}function q(e,r,t){var n=this;"string"!=typeof e&&(e=String(e));var o=new ce(function(t,o){n.ready().then(function(){void 0===r&&(r=null);var i=r,a=n._dbInfo;a.serializer.serialize(r,function(r,n){n?o(n):a.db.transaction(function(n){n.executeSql("INSERT OR REPLACE INTO "+a.storeName+" (key, value) VALUES (?, ?)",[e,r],function(){t(i)},function(e,r){o(r)})},function(e){e.code===e.QUOTA_ERR&&o(e)})})})["catch"](o)});return f(o,t),o}function P(e,r){var t=this;"string"!=typeof e&&(e=String(e));var n=new ce(function(r,n){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){t.executeSql("DELETE FROM "+o.storeName+" WHERE key = ?",[e],function(){r()},function(e,r){n(r)})})})["catch"](n)});return f(n,r),n}function U(e){var r=this,t=new ce(function(e,t){r.ready().then(function(){var n=r._dbInfo;n.db.transaction(function(r){r.executeSql("DELETE FROM "+n.storeName,[],function(){e()},function(e,r){t(r)})})})["catch"](t)});return f(t,e),t}function W(e){var r=this,t=new ce(function(e,t){r.ready().then(function(){var n=r._dbInfo;n.db.transaction(function(r){r.executeSql("SELECT COUNT(key) as c FROM "+n.storeName,[],function(r,t){var n=t.rows.item(0).c;e(n)},function(e,r){t(r)})})})["catch"](t)});return f(t,e),t}function Q(e,r){var t=this,n=new ce(function(r,n){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){t.executeSql("SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,t){var n=t.rows.length?t.rows.item(0).key:null;r(n)},function(e,r){n(r)})})})["catch"](n)});return f(n,r),n}function G(e){var r=this,t=new ce(function(e,t){r.ready().then(function(){var n=r._dbInfo;n.db.transaction(function(r){r.executeSql("SELECT key FROM "+n.storeName,[],function(r,t){for(var n=[],o=0;o<t.rows.length;o++)n.push(t.rows.item(o).key);e(n)},function(e,r){t(r)})})})["catch"](t)});return f(t,e),t}function X(e){var r=this,t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=t.name+"/",t.storeName!==r._defaultConfig.storeName&&(t.keyPrefix+=t.storeName+"/"),r._dbInfo=t,t.serializer=Re,ce.resolve()}function H(e){var r=this,t=r.ready().then(function(){for(var e=r._dbInfo.keyPrefix,t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}});return f(t,e),t}function K(e,r){var t=this;"string"!=typeof e&&(e=String(e));var n=t.ready().then(function(){var r=t._dbInfo,n=localStorage.getItem(r.keyPrefix+e);return n&&(n=r.serializer.deserialize(n)),n});return f(n,r),n}function J(e,r){var t=this,n=t.ready().then(function(){for(var r=t._dbInfo,n=r.keyPrefix,o=n.length,i=localStorage.length,a=1,u=0;u<i;u++){var c=localStorage.key(u);if(0===c.indexOf(n)){var f=localStorage.getItem(c);if(f&&(f=r.serializer.deserialize(f)),f=e(f,c.substring(o),a++),void 0!==f)return f}}});return f(n,r),n}function V(e,r){var t=this,n=t.ready().then(function(){var r,n=t._dbInfo;try{r=localStorage.key(e)}catch(o){r=null}return r&&(r=r.substring(n.keyPrefix.length)),r});return f(n,r),n}function Y(e){var r=this,t=r.ready().then(function(){for(var e=r._dbInfo,t=localStorage.length,n=[],o=0;o<t;o++)0===localStorage.key(o).indexOf(e.keyPrefix)&&n.push(localStorage.key(o).substring(e.keyPrefix.length));return n});return f(t,e),t}function Z(e){var r=this,t=r.keys().then(function(e){return e.length});return f(t,e),t}function $(e,r){var t=this;"string"!=typeof e&&(e=String(e));var n=t.ready().then(function(){var r=t._dbInfo;localStorage.removeItem(r.keyPrefix+e)});return f(n,r),n}function ee(e,r,t){var n=this;"string"!=typeof e&&(e=String(e));var o=n.ready().then(function(){void 0===r&&(r=null);var t=r;return new ce(function(o,i){var a=n._dbInfo;a.serializer.serialize(r,function(r,n){if(n)i(n);else try{localStorage.setItem(a.keyPrefix+e,r),o(t)}catch(u){"QuotaExceededError"!==u.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==u.name||i(u),i(u)}})})});return f(o,t),o}function re(e,r){e[r]=function(){var t=arguments;return e.ready().then(function(){return e[r].apply(e,t)})}}function te(){for(var e=1;e<arguments.length;e++){var r=arguments[e];if(r)for(var t in r)r.hasOwnProperty(t)&&(Me(r[t])?arguments[0][t]=r[t].slice():arguments[0][t]=r[t])}return arguments[0]}function ne(e){for(var r in Ce)if(Ce.hasOwnProperty(r)&&Ce[r]===e)return!0;return!1}var oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},ie=o();"undefined"==typeof Promise&&"undefined"!=typeof e&&e(3);var ae,ue,ce=Promise,fe="local-forage-detect-blob-support",se=Object.prototype.toString,le={_driver:"asyncStorage",_initStorage:I,iterate:j,getItem:A,setItem:D,removeItem:N,clear:O,length:R,key:B,keys:x},de="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ve="~~local_forage_type~",he=/^~~local_forage_type~([^~]+)~/,ye="__lfsc__:",pe=ye.length,be="arbf",ge="blob",me="si08",_e="ui08",Se="uic8",we="si16",Ee="si32",Ie="ur16",Ae="ui32",je="fl32",De="fl64",Ne=pe+be.length,Oe=Object.prototype.toString,Re={serialize:L,deserialize:T,stringToBuffer:k,bufferToString:C},Be={_driver:"webSQLStorage",_initStorage:F,iterate:M,getItem:z,setItem:q,removeItem:P,clear:U,length:W,key:Q,keys:G},xe={_driver:"localStorageWrapper",_initStorage:X,iterate:J,getItem:K,setItem:ee,removeItem:$,clear:H,length:Z,key:V,keys:Y},ke={},Ce={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},Le=[Ce.INDEXEDDB,Ce.WEBSQL,Ce.LOCALSTORAGE],Te=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],Fe={description:"",driver:Le.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},ze={};ze[Ce.INDEXEDDB]=i(),ze[Ce.WEBSQL]=a(),ze[Ce.LOCALSTORAGE]=u();var Me=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},qe=function(){function e(r){n(this,e),this.INDEXEDDB=Ce.INDEXEDDB,this.LOCALSTORAGE=Ce.LOCALSTORAGE,this.WEBSQL=Ce.WEBSQL,this._defaultConfig=te({},Fe),this._config=te({},this._defaultConfig,r),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver)}return e.prototype.config=function(e){if("object"===("undefined"==typeof e?"undefined":oe(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var r in e)"storeName"===r&&(e[r]=e[r].replace(/\W/g,"_")),this._config[r]=e[r];return"driver"in e&&e.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,r,t){var n=new ce(function(r,t){try{var n=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),i=new Error("Custom driver name already in use: "+e._driver);if(!e._driver)return void t(o);if(ne(e._driver))return void t(i);for(var a=Te.concat("_initStorage"),u=0;u<a.length;u++){var c=a[u];if(!c||!e[c]||"function"!=typeof e[c])return void t(o)}var f=ce.resolve(!0);"_support"in e&&(f=e._support&&"function"==typeof e._support?e._support():ce.resolve(!!e._support)),f.then(function(t){ze[n]=t,ke[n]=e,r()},t)}catch(s){t(s)}});return s(n,r,t),n},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,r,t){var n=this,o=ce.resolve().then(function(){if(!ne(e)){if(ke[e])return ke[e];throw new Error("Driver not found.")}switch(e){case n.INDEXEDDB:return le;case n.LOCALSTORAGE:return xe;case n.WEBSQL:return Be}});return s(o,r,t),o},e.prototype.getSerializer=function(e){var r=ce.resolve(Re);return s(r,e),r},e.prototype.ready=function(e){var r=this,t=r._driverSet.then(function(){return null===r._ready&&(r._ready=r._initDriver()),r._ready});return s(t,e,e),t},e.prototype.setDriver=function(e,r,t){function n(){i._config.driver=i.driver()}function o(e){return function(){function r(){for(;t<e.length;){var o=e[t];return t++,i._dbInfo=null,i._ready=null,i.getDriver(o).then(function(e){return i._extend(e),n(),i._ready=i._initStorage(i._config),i._ready})["catch"](r)}n();var a=new Error("No available storage method found.");return i._driverSet=ce.reject(a),i._driverSet}var t=0;return r()}}var i=this;Me(e)||(e=[e]);var a=this._getSupportedDrivers(e),u=null!==this._driverSet?this._driverSet["catch"](function(){return ce.resolve()}):ce.resolve();return this._driverSet=u.then(function(){var e=a[0];return i._dbInfo=null,i._ready=null,i.getDriver(e).then(function(e){i._driver=e._driver,n(),i._wrapLibraryMethodsWithReady(),i._initDriver=o(a)})})["catch"](function(){n();var e=new Error("No available storage method found.");return i._driverSet=ce.reject(e),i._driverSet}),s(this._driverSet,r,t),this._driverSet},e.prototype.supports=function(e){return!!ze[e]},e.prototype._extend=function(e){te(this,e)},e.prototype._getSupportedDrivers=function(e){for(var r=[],t=0,n=e.length;t<n;t++){var o=e[t];this.supports(o)&&r.push(o)}return r},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0;e<Te.length;e++)re(this,Te[e])},e.prototype.createInstance=function(r){return new e(r)},e}(),Pe=new qe;r.exports=Pe},{3:3}]},{},[4])(4)});